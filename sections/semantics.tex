% !TEX root=../pldi2019.tex


\section{Semantics}



\subsection{Layers}



\subsection{Evaluation semantics}

\begin{figure}
  \small
  \begin{mathpar}
    \boxed{\RelationE} \\
    \userule{E-Edit} \quad
    \userule{E-Fill} \quad
    \userule{E-Update} \\
    \userule{E-Then} \quad
    \userule{E-Next} \\
    \userule{E-And} \\
    \userule{E-Or} \quad
    \userule{E-Xor} \\
    \userule{E-Appoint} \quad
    \userule{E-Fail} \\
  \end{mathpar}
  \caption{Evaluation semantics} \label{fig:evaluation-semantics}
\end{figure}



\subsection{Observation semantics}


\paragraph{Task value}

\paragraph{Inputs}

\paragraph{Failing}

When an expression fails, it can not be normalised and there is no possible
input that it will handle. The function $\Failing$ determines this property.

\paragraph{User Interface }



\subsection{Normalisation semantics}

\begin{figure}
  \small

  \begin{mathpar}
    \boxed{\RelationS}
  \end{mathpar}

  \paragraph{Step}
  \begin{mathpar}
    \userule{S-ThenStay} \\
    \userule{S-ThenFail} \\
    \userule{S-ThenCont}
  \end{mathpar}

  \paragraph{Choose}
  \begin{mathpar}
    \userule{S-OrLeft} \\
    \userule{S-OrRight} \\
    \userule{S-OrNone}
  \end{mathpar}

  \paragraph{Ready}
  \begin{mathpar}
    \userule{S-Edit} \quad \userule{S-Fill} \qquad \userule{S-Update} \\
    \userule{S-Fail} \quad \userule{S-Xor}
  \end{mathpar}

  \paragraph{Congruence}
  \begin{mathpar}
    \userule{S-Next} \quad
    \userule{S-And} \\
    \userule{S-Appoint}
    % \userule{S-Eval}
  \end{mathpar}

  \caption{Striding semantics} \label{fig:normalisation-semantics}
\end{figure}

\begin{figure}
  \small
  \begin{mathpar}
    \boxed{\RelationN} \\
    \userule{N-Done} \\
    \userule{N-Stride}
  \end{mathpar}
  \caption{Normalisation semantics} \label{fig:memory-semantics}
\end{figure}


\subsection{Handling semantics}


\begin{figure}
  \small

  \begin{mathpar}
    \boxed{\RelationH}
  \end{mathpar}

  \paragraph{Editing}
  \begin{mathpar}
    \userule{H-Change} \quad
    \userule{H-Empty} \\
    \userule{H-Fill} \quad
    \userule{H-Update}
  \end{mathpar}

  \paragraph{Continuing}
  \begin{mathpar}
    \userule{H-PickLeft}\\
    \userule{H-PickRight} \\
    \userule{H-Next}
  \end{mathpar}

  \paragraph{Passing}
  \begin{mathpar}
    \userule{H-PassThen} \quad \userule{H-PassNext} \\
    \userule{H-FirstAnd} \quad \userule{H-SecondAnd} \\
    \userule{H-FirstOr}  \quad \userule{H-SecondOr}\\
    \userule{H-Assign}
  \end{mathpar}

  \caption{Handling semantics} \label{fig:handling-semantics}
\end{figure}


\paragraph{Memory}

\paragraph{Driving}

\begin{figure}
  \small
  \begin{mathpar}
    \boxed{\RelationD} \\
    \userule{D-Handle}
  \end{mathpar}
  \caption{Driving semantics} \label{fig:driving-semantics}
\end{figure}





\begin{figure}
  \small
  \usemacro{O-Value}
  \caption{Values} \label{fig:observation-value}
\end{figure}

\begin{figure}
  \small
  \usemacro{O-Inputs}
  \caption{Inputs} \label{fig:observation-value}
\end{figure}

\begin{figure}
  \small
  \usemacro{O-Failing}
  \caption{Failing} \label{fig:observation-failing}
\end{figure}
